(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[38],{910:function(e,t,n){"use strict";n.r(t);var r,a=n(191),s=n(6),c=n(187),i=n(188),o=n(190),l=n(189),u=n(2),d=n.n(u),p=n(799),h=n(800),j=n(801),b=n(710),f=n(711),g=n(785),O=n(887),x=n(786),v=n(621),m=n(18),w=n(35),y=n(575),E=n(39),q=n(184),N=n(77),C=n.n(N),k=n(571),A=n.n(k),P=n(802),_=n(572),F=["tag","isOpen","className","navbar","cssModule","children","innerRef"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(q.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=S(S({},P.Transition.propTypes),{},{isOpen:C.a.bool,children:C.a.oneOfType([C.a.arrayOf(C.a.node),C.a.node]),tag:_.o,className:C.a.node,navbar:C.a.bool,cssModule:C.a.object,innerRef:C.a.oneOfType([C.a.func,C.a.string,C.a.object])}),M=S(S({},P.Transition.defaultProps),{},{isOpen:!1,appear:!1,enter:!0,exit:!0,tag:"div",timeout:_.c.Collapse}),D=((r={})[_.b.ENTERING]="collapsing",r[_.b.ENTERED]="collapse show",r[_.b.EXITING]="collapsing",r[_.b.EXITED]="collapse",r);function L(e){return e.scrollHeight}var I=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={height:null},["onEntering","onEntered","onExit","onExiting","onExited"].forEach((function(e){n[e]=n[e].bind(Object(y.a)(n))})),n}Object(E.a)(t,e);var n=t.prototype;return n.onEntering=function(e,t){this.setState({height:L(e)}),this.props.onEntering(e,t)},n.onEntered=function(e,t){this.setState({height:null}),this.props.onEntered(e,t)},n.onExit=function(e){this.setState({height:L(e)}),this.props.onExit(e)},n.onExiting=function(e){e.offsetHeight;this.setState({height:0}),this.props.onExiting(e)},n.onExited=function(e){this.setState({height:null}),this.props.onExited(e)},n.render=function(){var e=this,t=this.props,n=t.tag,r=t.isOpen,a=t.className,s=t.navbar,c=t.cssModule,i=t.children,o=(t.innerRef,Object(w.a)(t,F)),l=this.state.height,u=Object(_.m)(o,_.a),p=Object(_.l)(o,_.a);return d.a.createElement(P.Transition,Object(m.a)({},u,{in:r,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}),(function(t){var r=function(e){return D[e]||"collapse"}(t),o=Object(_.k)(A()(a,r,s&&"navbar-collapse"),c),u=null===l?null:{height:l};return d.a.createElement(n,Object(m.a)({},p,{style:S(S({},p.style),u),className:o,ref:e.props.innerRef}),i)}))},t}(u.Component);I.propTypes=T,I.defaultProps=M;var R=I,J=n(899),z=n(911),G=n(900),H=n(901),V=n(848),X=n(902),U=n(185),B=n(610),K=n.n(B),W=n(594),Y=n(27),Z=n.n(Y),$=n(50),ee=n(59),te=n.n(ee),ne=n(8),re="https://api.aesoptips.com/api",ae={headers:{"Content-Type":"application/json"}},se=n(592),ce=(n(630),n(611)),ie=n(24),oe=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).onFieldChange=function(e){r.setState(Object(s.a)(Object(s.a)({},r.state),{},Object(a.a)({},e.target.name,e.target.value)),(function(){}))},r.toggleCategoryModal=function(e){r.setState({showModal:!1,_id:null,question:"",answer:"",errors:{error_question:"",error_answer:""}})},r.onSaveLanguage=function(e){e.preventDefault();var t,n=r.state,a=n._id,s=n.question,c=n.answer,i=n.pageLength,o=n.errors,l=r.props.faqs.getfaq.page,u=!0;for(var d in o)o.hasOwnProperty(d)&&d&&(o[d]="");if((t=Object(W.b)(s,"Question"))&&(u=!1,o.error_question=t),(t=Object(W.b)(c,"Answer"))&&(u=!1,o.error_answer=t),u){var p={question:s,answer:c};r.setState({_id:null}),null===a?r.props.addFAQ(p).then((function(e){console.log(e),se.b.success(e.data.message),r.props.getFAQ(l,i)})).catch((function(e){K()("Error!","Error occurred, Please try again later!","error")})):r.props.updateFAQ(p,a).then((function(e){se.b.success(e.data.message),r.props.getFAQ(l,i)})).catch((function(e){K()("Error!","Error occurred, Please try again later!","error")})),r.setState({showModal:!1,_id:null,question:"",answer:"",errors:o})}else r.setState({errors:o})},r.onDeleteFAQ=function(e){var t=r.state.pageLength,n=r.props.faqs.getfaq.page;K()({title:"Are you sure?",text:"Are you sure that you want to delete ".concat(e.question," FAQ ?"),icon:"warning",buttons:!0,dangerMode:!0}).then((function(a){a&&r.props.deleteFAQ(e._id).then((function(e){se.b.success(e.data.message),r.props.getFAQ(n,t)})).catch((function(e){console.log(e)}))}))},r.onPageClick=function(e){var t=r.state.pageLength;r.props.getFAQ(e,t)},r.state={_id:null,showModal:!1,pageLength:30,question:"",answer:"",accordion:[!0,!1,!1],activeTab:null,errors:{error_question:"",error_answer:""}},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.pageLength;this.props.getFAQ(1,e)}},{key:"toggleAccordion",value:function(e){var t=this.state.activeTab,n=null;t===e?n=null:(null===t||null!==t&&t!==e)&&(n=e),this.setState({activeTab:n})}},{key:"showEditCategoryModal",value:function(e){this.setState({showModal:!0,_id:e._id,answer:e.answer,question:e.question})}},{key:"paginationSection",value:function(e){for(var t=this,n=e.result,r=n.page,a=n.totalPages,s=n.hasPrevPage,c=n.hasNextPage,i=n.prevPage,o=n.nextPage,l=[],u=0,b=1;b<=a;b++)1===b||r<4&&b<=5||b===r-1||b===r+1||b===r||b===a||r>=a-3&&b>=a-4?function(){var e=b,n=Object(ie.jsxs)(d.a.Fragment,{children:[1===u?Object(ie.jsx)(p.a,{children:Object(ie.jsx)(h.a,{disabled:!0,tag:"button",children:"..."})}):null,Object(ie.jsx)(p.a,{active:r===b,onClick:r===b?function(){return null}:function(){return t.onPageClick(e)},children:Object(ie.jsx)(h.a,{tag:"button",children:b})},b)]},b);u=0,l.push(n)}():u=1;return Object(ie.jsx)("nav",{children:Object(ie.jsxs)(j.a,{children:[Object(ie.jsx)(p.a,{onClick:!0===s?function(){return t.onPageClick(i)}:null,children:Object(ie.jsx)(h.a,{previous:!0,disabled:!0!==s,tag:"button",children:"Prev"})}),l,Object(ie.jsx)(p.a,{onClick:!0===c?function(){return t.onPageClick(o)}:null,children:Object(ie.jsx)(h.a,{next:!0,tag:"button",disabled:!0!==c,children:"Next"})})]})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.showModal,r=t._id,a=t.question,s=t.answer,c=t.errors,i=t.activeTab,o=this.props.faqs,l=o.getfaq,u=o.loading;return Object(ie.jsxs)("div",{className:"animated fadeIn",children:[Object(ie.jsx)(se.a,{position:"top-right",autoClose:5e3,style:{zIndex:1999}}),Object(ie.jsx)(b.a,{children:Object(ie.jsxs)(f.a,{xs:"12",children:[Object(ie.jsxs)(g.a,{className:"shadow card-style",children:[Object(ie.jsxs)(O.a,{children:[Object(ie.jsx)("i",{className:"fas fa-question-circle"}),Object(ie.jsx)("strong",{children:"FAQ"})]}),Object(ie.jsxs)(x.a,{children:[Object(ie.jsx)(f.a,{md:"12",children:Object(ie.jsx)("div",{className:"text-right",children:Object(ie.jsx)(ce.Tooltip,{title:"Add FAQ",position:"bottom",arrow:!0,distance:15,trigger:"mouseenter",children:Object(ie.jsxs)(v.a,{size:"md",className:"btnColor btn-brand mr-1 mb-4",onClick:function(){return e.setState({showModal:!0,_id:null})},children:[Object(ie.jsx)("i",{className:"fa fa-plus"}),Object(ie.jsx)("span",{children:"Add"})]})})})}),Object(ie.jsx)("div",{id:"accordion",children:!u&&l.result.docs.length>0?l.result.docs.map((function(t,n){return Object(ie.jsxs)(g.a,{className:"mb-2 faq-card",children:[Object(ie.jsx)(O.a,{id:"headingOne",children:Object(ie.jsxs)("div",{color:"link",className:"text-left m-0 pt-1","aria-expanded":i===t.id,"aria-controls":"collapseOne",children:[Object(ie.jsx)("p",{className:" d-inline font-weight-bold align-middle cursor-pointer",onClick:function(){return e.toggleAccordion(t._id)},children:t.question}),Object(ie.jsx)("i",{className:"fa fa-trash  h5  btn-delete",onClick:function(){return e.onDeleteFAQ(t)}}),Object(ie.jsx)("i",{className:"fa fa-pencil update h5 mr-5",onClick:function(){return e.showEditCategoryModal(t)}})]})}),Object(ie.jsx)(R,{isOpen:i===t._id,"data-parent":"#accordion",id:"collapseOne","aria-labelledby":"headingOne",children:Object(ie.jsx)(x.a,{children:t.answer})})]},n)})):u?Object(ie.jsx)("div",{className:"middle-align text-center",children:Object(ie.jsx)(J.a,{type:"grow"})}):null})]})]}),Object(ie.jsxs)(z.a,{isOpen:n,children:[Object(ie.jsx)(G.a,{toggle:this.toggleCategoryModal,children:r?"Edit FAQ":"ADD FAQ"}),Object(ie.jsxs)(H.a,{children:[Object(ie.jsxs)(V.a,{row:!0,children:[Object(ie.jsxs)(f.a,{xs:"12",children:[Object(ie.jsx)("label",{children:"Question"}),Object(ie.jsx)("span",{className:"required",children:"*"})]}),Object(ie.jsxs)(f.a,{xs:"12",children:[Object(ie.jsx)("input",{placeholder:"Enter Question",rows:"3",type:"text",name:"question",onChange:function(t){return e.onFieldChange(t)},defaultValue:a,className:A()({"form-control input":!0},{"is-invalid":c.error_question.length>0})}),c.error_question.length>0?Object(ie.jsx)("em",{className:"error invalid-feedback",children:c.error_question}):null]})]}),Object(ie.jsxs)(V.a,{row:!0,children:[Object(ie.jsxs)(f.a,{xs:"12",children:[Object(ie.jsx)("label",{children:"Answer"}),Object(ie.jsx)("span",{className:"required",children:"*"})]}),Object(ie.jsxs)(f.a,{xs:"12",children:[Object(ie.jsx)("input",{placeholder:"Enter Answer",rows:"3",type:"text",name:"answer",onChange:function(t){return e.onFieldChange(t)},defaultValue:s,className:A()({"form-control input":!0},{"is-invalid":c.error_answer.length>0})}),c.error_answer.length>0?Object(ie.jsx)("em",{className:"error invalid-feedback",children:c.error_answer}):null]})]})]}),Object(ie.jsxs)(X.a,{className:"px-4",children:[Object(ie.jsx)(v.a,{className:"btnColor btn-brand",onClick:this.onSaveLanguage,children:r?"Update":"Submit"}),Object(ie.jsx)("button",{className:"btn btn-outline cancel",onClick:this.toggleCategoryModal,children:Object(ie.jsx)("span",{children:" Cancel"})})]})]})]})})]})}}]),n}(u.Component);t.default=Object(U.b)((function(e){return{faqs:e.faq}}),{getFAQ:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return function(){var n=Object($.a)(Z.a.mark((function n(r){var a;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,te.a.get("".concat(re,"/faq/getfaq?page=").concat(e,"&limit=").concat(t));case 3:a=n.sent,r({type:ne.j,payload:a.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),r({type:ne.h});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},addFAQ:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){var r,a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify(e),t.prev=1,t.next=4,te.a.post("".concat(re,"/faq/addfaq"),r,ae);case 4:return a=t.sent,t.abrupt("return",a);case 8:t.prev=8,t.t0=t.catch(1),n({type:ne.h});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},updateFAQ:function(e,t){return function(){var n=Object($.a)(Z.a.mark((function n(r){var a,s;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=JSON.stringify(e),n.prev=1,n.next=4,te.a.patch("".concat(re,"/faq/editfaq/").concat(t),a,ae);case 4:return s=n.sent,n.abrupt("return",s);case 8:n.prev=8,n.t0=n.catch(1),r({type:ne.h});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}()},deleteFAQ:function(e){return function(){var t=Object($.a)(Z.a.mark((function t(n){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te.a.delete("".concat(re,"/faq/deletefaq/").concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),n({type:ne.h});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}})(oe)}}]);
//# sourceMappingURL=38.ba878c9f.chunk.js.map