{"version":3,"sources":["views/Consultant/Member.js","actions/memberAction.js"],"names":["connect","getAllMember","id","page","limit","search","dispatch","a","axios","get","process","res","type","CONSULTANT_MEMBER_LIST","payload","data","result","props","useParams","useState","pageLength","setpageLength","consultant_member","useSelector","state","setSearch","useEffect","onPageClick","member_list","loading","className","Row","Col","xs","Card","body","CardBody","md","name","value","onChange","e","target","onKeyPress","key","onFieldKeyPress","Table","responsive","striped","docs","length","map","sub","i","userData","first_name","last_name","tip","Active","colSpan","totalPages","hasPrevPage","hasNextPage","prevPage","nextPage","Pages","skipped","test","item","Fragment","PaginationItem","PaginationLink","disabled","tag","active","onClick","push","Pagination","previous","next","paginationSection"],"mappings":"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","file":"static/js/35.c56217a1.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n\r\nimport { connect, useSelector } from 'react-redux'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  Col,\r\n  Pagination,\r\n  PaginationItem,\r\n  PaginationLink,\r\n  Row,\r\n  Table,\r\n} from 'reactstrap'\r\nimport ReactReadMoreReadLess from 'react-read-more-read-less'\r\nimport { getAllMember } from '../../actions/memberAction'\r\n\r\nconst Member = (props) => {\r\n  const { getAllMember } = props\r\n\r\n  const { id } = useParams()\r\n  const [pageLength, setpageLength] = useState(10)\r\n  const consultant_member = useSelector((state) => state.consultant_member)\r\n  const [search, setSearch] = useState('')\r\n\r\n  useEffect(() => {\r\n    getAllMember(id, 1, pageLength, '')\r\n  }, [id])\r\n\r\n  const onFieldKeyPress = (e) => {\r\n    if (e.target.name === 'search') {\r\n      if (e.key === 'Enter') {\r\n        getAllMember(id, 1, pageLength, e.target.value)\r\n      }\r\n    }\r\n  }\r\n\r\n  const onPageClick = (page) => {\r\n    getAllMember(id, page, pageLength, search)\r\n  }\r\n\r\n  const paginationSection = (data) => {\r\n    const { page, totalPages, hasPrevPage, hasNextPage, prevPage, nextPage } =\r\n      data\r\n\r\n    let Pages = []\r\n    let skipped = 0\r\n    for (var i = 1; i <= totalPages; i++) {\r\n      if (\r\n        i === 1 ||\r\n        (page < 4 && i <= 5) ||\r\n        i === page - 1 ||\r\n        i === page + 1 ||\r\n        i === page ||\r\n        i === totalPages ||\r\n        (page >= totalPages - 3 && i >= totalPages - 4)\r\n      ) {\r\n        const test = i\r\n        const item = (\r\n          <React.Fragment key={i}>\r\n            {skipped === 1 ? (\r\n              <PaginationItem>\r\n                <PaginationLink disabled tag='button'>\r\n                  ...\r\n                </PaginationLink>\r\n              </PaginationItem>\r\n            ) : null}\r\n            <PaginationItem\r\n              active={page === i ? true : false}\r\n              onClick={page === i ? () => null : () => onPageClick(test)}\r\n              key={i}>\r\n              <PaginationLink tag='button'>{i}</PaginationLink>\r\n            </PaginationItem>\r\n          </React.Fragment>\r\n        )\r\n        skipped = 0\r\n        Pages.push(item)\r\n      } else {\r\n        skipped = 1\r\n      }\r\n    }\r\n\r\n    return (\r\n      <nav>\r\n        <Pagination>\r\n          <PaginationItem\r\n            onClick={hasPrevPage === true ? () => onPageClick(prevPage) : null}>\r\n            <PaginationLink\r\n              previous\r\n              disabled={hasPrevPage === true ? false : true}\r\n              tag='button'>\r\n              Prev\r\n            </PaginationLink>\r\n          </PaginationItem>\r\n          {Pages}\r\n\r\n          <PaginationItem\r\n            onClick={hasNextPage === true ? () => onPageClick(nextPage) : null}>\r\n            <PaginationLink\r\n              next\r\n              tag='button'\r\n              disabled={hasNextPage === true ? false : true}>\r\n              Next\r\n            </PaginationLink>\r\n          </PaginationItem>\r\n        </Pagination>\r\n      </nav>\r\n    )\r\n  }\r\n\r\n  const { member_list, loading } = consultant_member\r\n\r\n  let { page } = member_list\r\n  page = page - 1\r\n\r\n  return (\r\n    <div className='animated fadeIn'>\r\n      <Row>\r\n        <Col xs='12'>\r\n          <Card body className='px-0 py-0'>\r\n            <CardBody className='px-3 py-3'>\r\n              <Col md='12'>\r\n                <Row>\r\n                  <Col md='6' className='pl-0'>\r\n                    <div className='text-left'>\r\n                      <span className=''>Show</span>\r\n                      <select\r\n                        type='text'\r\n                        name='pageLimit'\r\n                        value={pageLength}\r\n                        onChange={(e) => setpageLength(e.target.value)}\r\n                        className='form-control list-style  d-inline  mx-2'>\r\n                        <option value={10}>10 </option>\r\n                        <option value={20}>20 </option>\r\n                        <option value={50}>50 </option>\r\n                        <option value={100}>100 </option>\r\n                      </select>\r\n                    </div>\r\n                  </Col>\r\n                  <Col md='6' className='pr-0'>\r\n                    <div className='text-right'>\r\n                      <span className=''>Search : </span>\r\n                      <input\r\n                        type='text'\r\n                        name='search'\r\n                        className='form-control w-50 input  d-inline'\r\n                        onKeyPress={(e) => onFieldKeyPress(e)}\r\n                        onChange={(e) => setSearch(e.target.value)}\r\n                      />\r\n                    </div>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Table responsive striped className='mt-2 customDataTable'>\r\n                <thead>\r\n                  <tr>\r\n                    <th>No.</th>\r\n                    <th>User Name</th>\r\n                    <th>Total Tip</th>\r\n                    <th>Status</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {!loading && member_list.docs.length > 0 ? (\r\n                    member_list.docs.map((sub, i) => (\r\n                      <tr>\r\n                        <td>{page * pageLength + i + 1}</td>\r\n\r\n                        <td>\r\n                          {sub.userData.first_name} {sub.userData.last_name}\r\n                        </td>\r\n                        <td>{sub.tip}</td>\r\n                        <td>{sub.Active === 1 ? 'Activate' : 'Deactivated'}</td>\r\n                      </tr>\r\n                    ))\r\n                  ) : (\r\n                    <tr>\r\n                      <td colSpan={6} className='text-center'>\r\n                        No member found\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n                <tfoot>\r\n                  <tr>\r\n                    <th>No.</th>\r\n                    <th>User Name</th>\r\n                    <th>Total Tip</th>\r\n                    <th>Status</th>\r\n                  </tr>\r\n                </tfoot>\r\n              </Table>\r\n              <div className='row float-right'>\r\n                <div className='col-md-12 '>\r\n                  {paginationSection(member_list)}\r\n                </div>\r\n              </div>\r\n            </CardBody>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default connect(null, { getAllMember })(Member)\r\n","import axios from 'axios'\r\nimport { CONSULTANT_MEMBER_LIST } from './types'\r\n\r\nconst PROXY = process.env.REACT_APP_URL + 'api/'\r\n\r\nexport const getAllMember = (id, page, limit, search) => async (dispatch) => {\r\n  const res = await axios.get(\r\n    `${PROXY}user/get-member/admin/${id}?page=${page}&limit=${limit}&search=${search}`\r\n  )\r\n  dispatch({\r\n    type: CONSULTANT_MEMBER_LIST,\r\n    payload: res.data.result,\r\n  })\r\n  return res\r\n}\r\n"],"sourceRoot":""}